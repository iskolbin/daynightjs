!function(){"use strict";var e="undefined"==typeof global?self:global;if("function"!=typeof e.require){var t={},n={},r={},i={}.hasOwnProperty,a=/^\.\.?(\/|$)/,o=function(e,t){for(var n,r=[],i=(a.test(t)?e+"/"+t:t).split("/"),o=0,u=i.length;o<u;o++)n=i[o],".."===n?r.pop():"."!==n&&""!==n&&r.push(n);return r.join("/")},u=function(e){return e.split("/").slice(0,-1).join("/")},s=function(t){return function(n){var r=o(u(t),n);return e.require(r,t)}},l=function(e,t){var r=v&&v.createHot(e),i={id:e,exports:{},hot:r};return n[e]=i,t(i.exports,s(e),i),i.exports},c=function(e){return r[e]?c(r[e]):e},f=function(e,t){return c(o(u(e),t))},h=function(e,r){null==r&&(r="/");var a=c(e);if(i.call(n,a))return n[a].exports;if(i.call(t,a))return l(a,t[a]);throw new Error("Cannot find module '"+e+"' from '"+r+"'")};h.alias=function(e,t){r[t]=e};var p=/\.[^.\/]+$/,d=/\/index(\.[^\/]+)?$/,y=function(e){if(p.test(e)){var t=e.replace(p,"");i.call(r,t)&&r[t].replace(p,"")!==t+"/index"||(r[t]=e)}if(d.test(e)){var n=e.replace(d,"");i.call(r,n)||(r[n]=e)}};h.register=h.define=function(e,r){if(e&&"object"==typeof e)for(var a in e)i.call(e,a)&&h.register(a,e[a]);else t[e]=r,delete n[e],y(e)},h.list=function(){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e};var v=e._hmr&&new e._hmr(f,h,t,n);h._cache=n,h.hmr=v&&v.wrap,h.brunch=!0,e.require=h}}(),function(){var e;"undefined"==typeof window?this:window;require.register("DayNightApplication.js",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=t("pixi.js"),l=t("tween.js"),c=(t("howler"),t("./NightScene")),f=r(c),h=1920,p=1080,d=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,h,p,{antialias:!0}));return e.width=h,e.height=p,s.loader.add("tilesheet","tilesheet.json").load(function(t){e.initScenes(),s.ticker.shared.add(function(){return e.update(s.ticker.shared.elapsedMS)})}),e}return o(t,e),u(t,[{key:"initScenes",value:function(){this.nightScene=new f["default"](this)}},{key:"update",value:function(e){(0,l.update)()}},{key:"createObject",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.stage,i=s.extras.AnimatedSprite.fromImages(e);return i.x=t,i.y=n,i.anchor.x=.5,i.anchor.y=.5,r&&r.addChild(i),i}},{key:"createContainer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.stage,r=new s.Container;return r.x=e,r.y=t,n&&n.addChild(r),r}},{key:"createRect",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.stage,o=(new s.Graphics).beginFill(i).drawRect(0,0,n,r).endFill();return a&&a.addChild(o),o}},{key:"onResize",value:function(){}}]),t}(s.Application);e["default"]=d}),require.register("FullscreenButton.js",function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=t("screenfull"),u=r(o),s=function(){function e(t,n,r){var a=this;i(this,e),this.scene=t,this.button=t.createObject(["expand.png","contract.png"],n,r),this.button.interactive=!0,this.button.on("pointerup",function(){return a.switchFullscreen()}),u.onchange(function(){return a.updateFullscreenStyle()})}return a(e,[{key:"switchFullscreen",value:function(){u.enabled&&(u["default"].isFullscreen?u.exit():u.request(this.scene.app.view),this.updateFullscreenStyle())}},{key:"updateFullscreenStyle",value:function(){u["default"].isFullscreen?(this.button.gotoAndStop(1),this.scene.app.view.style["border-radius"]="0px"):(this.button.gotoAndStop(0),this.scene.app.view.style["border-radius"]="8px")}}]),e}();e["default"]=s}),require.register("Moon.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){i=!0,a=s}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=(t("./util"),t("tween.js")),u=function(){function e(t,n,a){var o=this;r(this,e),this.scene=t,this.moon=t.createObject(["moon.png"],200,200),this.glow=[[-10,-10],[-10,10],[30,-10],[30,10]].map(function(e){var n=i(e,2),r=n[0],a=n[1],o=t.createObject(["moon.png"],200,200);return o.scale.x=o.scale.y=1.1,o.x+=r,o.y+=a,o.alpha=0,o}),this.moon.interactive=!0,this.moon.on("pointerup",function(){return o.animateMoon()})}return a(e,[{key:"animateMoon",value:function(){this.glow.forEach(function(e){return new o.Tween({rotation:0,alpha:0}).to({rotation:(.95+.05*Math.random())*Math.PI/16,alpha:.33},950+50*Math.random()).repeat(1).yoyo(!0).onUpdate(function(){e.rotation=this.rotation,e.alpha=this.alpha}).start()})}}]),e}();e["default"]=u}),require.register("NightScene.js",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){i=!0,a=s}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=t("./util"),l=t("./Scene"),c=r(l),f=t("./Star"),h=r(f),p=t("./Moon"),d=r(p),y=t("./FullscreenButton"),v=r(y),w=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,459296));n.moon=new d["default"](n,200,200),n.starsInRow=5,n.starsInCol=3;var r=n.app.width/n.starsInRow,o=n.app.height/n.starsInCol;return n.stars=(0,s.flatten)((0,s.range)(n.starsInCol).map(function(e){return(0,s.range)(0===e?1:0,n.starsInRow).map(function(t){return new h["default"](n,r*(t+.5),o*(e+.5))})})),n.stars.forEach(function(e){var t=u(e.pos,2),n=t[0],i=t[1];e.pos=[n+s.random.randomFloat(-.25*r,.25*r),i+s.random.randomFloat(-.25*r,.25*o)],e.scale=s.random.randomFloat(.5,.75),e.rotation=s.random.randomFloat(2*Math.PI)}),n.fullscreen=new v["default"](n,n.app.width-48,48),n}return o(t,e),t}(c["default"]);e["default"]=w}),require.register("Scene.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r(this,e),this.app=t,this.container=t.createContainer(0,0),this.background=t.createRect(0,0,t.width,t.height,n,this.container)}return i(e,[{key:"createObject",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.container;return this.app.createObject(e,t,n,r)}},{key:"createContainer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.container;return this.app.createContainer(e,t,n)}}]),e}();e["default"]=a}),require.register("Star.js",function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){i=!0,a=s}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=t("tween.js"),u=function(){function e(t,n,i){var a=this;r(this,e),this.container=t.createContainer(n,i),this.star=t.createObject(["star.png"],0,0,this.container),this.star.scale.x=this.star.scale.y=.7,this.star.interactive=!0,this.star.on("pointerup",function(){return a.activate()}),this.innerGlow=t.createObject(["star.png"],0,0,this.container),this.innerGlow.scale.x=this.innerGlow.scale.y=.8,this.innerGlow.alpha=0,this.outerGlow=t.createObject(["star.png"],0,0,this.container),this.outerGlow.alpha=0,this.smile=t.createObject(["smile.png"],n,i),this.smile.alpha=0;var u=this;this.glowTween=new o.Tween({scale:.8}).to({scale:.9},350+150*Math.random()).onUpdate(function(){u.innerGlow.scale.x=u.innerGlow.scale.y=this.scale}).repeat(1/0).yoyo(!0),this.showSmileTween=new o.Tween({alpha:0}).to({alpha:1},500).onUpdate(function(){u.innerGlow.alpha=.22*this.alpha,u.outerGlow.alpha=.11*this.alpha,u.smile.alpha=this.alpha}),this.scaleTween=null}return a(e,[{key:"animateScaling",value:function(){if(null===this.scaleTween){var e=this;this.scaleTween=new o.Tween({scale:.7}).to({scale:1.1},300).onUpdate(function(){var t=this.scale;t>.9&&(t=1.8-t),e.star.scale.x=e.star.scale.y=t}).onComplete(function(){e.star.interactive=!0,e.scaleTween=null}).start()}}},{key:"activate",value:function(){this.activated=!0,this.glowTween.start(),this.showSmileTween.start(),this.animateScaling()}},{key:"pos",get:function(){return[this.container.x,this.container.y]},set:function(e){var t=i(e,2),n=t[0],r=t[1];this.container.x=this.smile.x=n,this.container.y=this.smile.y=r}},{key:"scale",get:function(){return this.container.scale.x},set:function(e){this.container.scale.x=this.container.scale.y=this.smile.scale.x=this.smile.scale.y=e}},{key:"rotation",get:function(){return this.container.rotation},set:function(e){this.container.rotation=e}}]),e}();e["default"]=u}),require.register("initialize.js",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i=t("./DayNightApplication"),a=r(i);document.addEventListener("DOMContentLoaded",function(){var e=new a["default"];document.getElementById("content").appendChild(e.view),window.addEventListener("resize",function(){return e.onResize()})})}),require.register("util/flatten.js",function(e,t,n){"use strict";function r(e,t,n){if(Array.isArray(t))for(var i=0;i<t.length;i++)n=r(e,t[i],n);else e[n++]=t;return n}function i(e){var t=[];return r(t,e,0),t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i}),require.register("util/index.js",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.flatten=e.random=e.range=void 0;var i=t("./range"),a=r(i),o=t("./random"),u=r(o),s=t("./flatten"),l=r(s);e.range=a["default"],e.random=u["default"],e.flatten=l["default"]}),require.register("util/random.js",function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null===e&&null===t?Math.random():null===t?Math.random()*e:Math.random()*(t-e)+e}function i(e,t){return 0|r(e,t)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={randomFloat:r,randomInt:i}}),require.register("util/range.js",function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=[];if(void 0===t&&(t=e,e=0),void 0===n&&(n=e<t?1:-1),e>t&&n<0)for(var i=e;i>t;i+=n)r.push(i);else if(e<t&&n>0)for(var a=e;a<t;a+=n)r.push(a);return r}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r}),require.alias("buffer/index.js","buffer"),require.alias("path-browserify/index.js","path"),require.alias("process/browser.js","process"),require.alias("punycode/punycode.js","punycode"),require.alias("querystring-es3/index.js","querystring"),require.alias("url/url.js","url"),e=require("process"),require.register("___globals___",function(e,t,n){})}(),require("___globals___");